<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>회원 정보</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
  <div class="container mt-4">
    <h2>회원 정보</h2>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>No</th>
          <th>이름</th>
          <th>생년월일</th>
          <th>전화번호</th>
          <th>국적</th>
          <th>이메일</th>
          <th>자기소개</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="member, status : ${members}">
          <td th:text="${status.count}">1</td>
          <td th:text="${member.name}">유비</td>

          <!-- 날짜 형식: 'yyyy년 M월 d일' -->
          <td th:text="${#temporals.format(member.birth, 'yyy년 M월 d일')}">161년 7월 9일</td>

          <!-- 전화번호 유효성 검사 -->
          <td th:text="${#strings.startsWith(member.phoneNumber, '010') ? member.phoneNumber : '유효하지 않은 전화번호'}">010-1234-5678</td>

          <!-- 국적 치환 -->
          <td th:text="${#strings.replace(member.nationality, '삼국시대', '삼국 -')}">삼국 - 촉한</td>

          <!-- 이메일: 아이디 부분 굵게 표시 -->
          <td>
            <span th:utext="'<strong>' + ${#strings.substringBefore(member.email, '@')} + '</strong>@' + ${#strings.substringAfter(member.email, '@')}"></span>
          </td>

          <!-- 자기소개 15자 제한 + ... 처리 -->
          <td th:text="${#strings.length(member.introduce) > 15 ? #strings.substring(member.introduce, 0, 15) + '...' : member.introduce}">자기소개</td>
        </tr>
      </tbody>
    </table>
  </div>
</body>
</html>
